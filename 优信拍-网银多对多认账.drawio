<mxfile host="app.diagrams.net" modified="2023-05-06T07:04:17.134Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/111.0" etag="44_VpgnqZyr2qqg3Wnny" version="21.2.3" type="github">
  <diagram name="Page-1" id="fpYvHtxNB4w4uJ5ZzWT5">
    <mxGraphModel dx="2154" dy="1822" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-36" target="o6qvqLgRWWO_v4bCrPXF-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-36" value="获取列表数据" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=process;whiteSpace=wrap;rounded=1;size=0.047619047619047616;arcSize=6;" vertex="1" parent="1">
          <mxGeometry x="-260" y="960" width="470" height="242.5" as="geometry" />
        </mxCell>
        <mxCell id="b7ro-gV5mYTYyai0SoZE-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="b7ro-gV5mYTYyai0SoZE-1" target="b7ro-gV5mYTYyai0SoZE-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b7ro-gV5mYTYyai0SoZE-7" value="&lt;div&gt;1 -&amp;gt; n&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rotation=90;" parent="b7ro-gV5mYTYyai0SoZE-6" vertex="1" connectable="0">
          <mxGeometry x="-0.32" y="3" relative="1" as="geometry">
            <mxPoint x="-3" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="b7ro-gV5mYTYyai0SoZE-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="b7ro-gV5mYTYyai0SoZE-1" target="b7ro-gV5mYTYyai0SoZE-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-169" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="b7ro-gV5mYTYyai0SoZE-1" target="b7ro-gV5mYTYyai0SoZE-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-170" value="1 -&amp;gt; n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-169">
          <mxGeometry x="0.1077" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="b7ro-gV5mYTYyai0SoZE-1" value="业务认账批次" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="260" y="290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="b7ro-gV5mYTYyai0SoZE-2" target="o6qvqLgRWWO_v4bCrPXF-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="b7ro-gV5mYTYyai0SoZE-2" target="o6qvqLgRWWO_v4bCrPXF-106">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-168" value="1 - &amp;gt; 1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rotation=90;" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-107">
          <mxGeometry x="-0.1473" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="b7ro-gV5mYTYyai0SoZE-2" value="业务订单" style="whiteSpace=wrap;html=1;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="470" y="215" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="b7ro-gV5mYTYyai0SoZE-5" target="o6qvqLgRWWO_v4bCrPXF-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-163" value="1 -&amp;gt; 1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="b7ro-gV5mYTYyai0SoZE-5" target="o6qvqLgRWWO_v4bCrPXF-162">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b7ro-gV5mYTYyai0SoZE-5" value="业务汇款记录" style="whiteSpace=wrap;html=1;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="270" y="570" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-171" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="b7ro-gV5mYTYyai0SoZE-14" target="o6qvqLgRWWO_v4bCrPXF-159">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-172" value="1 -&amp;gt; n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-171">
          <mxGeometry x="-0.3656" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="b7ro-gV5mYTYyai0SoZE-14" value="中台认账记录" style="whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;rounded=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="610" y="530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="b7ro-gV5mYTYyai0SoZE-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="b7ro-gV5mYTYyai0SoZE-18" target="b7ro-gV5mYTYyai0SoZE-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b7ro-gV5mYTYyai0SoZE-18" value="认账 Service" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="260" y="120" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="b7ro-gV5mYTYyai0SoZE-22" value="&lt;div&gt;- 创建批次&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- 判断多个订单认账状态(是否绑定批次，是否不同批次，是否认账中，是否认账成功)&lt;/div&gt;&lt;div&gt;- 添加订单 (只有 未绑定 状态订单能绑定到当前批次)&lt;br&gt;&lt;div&gt;- 未提交-删除 (删除绑定关系)&lt;/div&gt;- 已提交-删除 (删除绑定、调用中台删除)&lt;/div&gt;&lt;div&gt;- 应收金额汇总 (添加、删除 时候都需要重新计算)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- 添加认账记录&lt;/div&gt;&lt;div&gt;- 删除认账记录(未提交删除)&lt;/div&gt;&lt;div&gt;- 撤销认账记录(已提交撤销)&lt;br&gt;&lt;/div&gt;&lt;div&gt;- 修改认账记录 (未提交进行修改)&lt;br&gt;- 增量修改认账记录(撤销的、未到账的记录，复制一份内容，用新数据更新，旧记录删除)&lt;/div&gt;&lt;div&gt;- 汇款金额汇总、退款金额汇总（本次应退、历史已退）&lt;/div&gt;&lt;div&gt;- 根据中台汇款记录状态计算本地汇款相关状态&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- 金额校验(应收、汇款、退款)&lt;/div&gt;&lt;div&gt;- 暂存批次信息&lt;/div&gt;&lt;div&gt;- 提交批次信息&lt;/div&gt;&lt;div&gt;- 对比本地汇款记录和中台汇款记录数据，增加、变动同步中台&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="-370" y="-37.5" width="490" height="355" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-3" value="&lt;h1&gt;订单状态&lt;br&gt;&lt;/h1&gt;&lt;p&gt;未提交&lt;br&gt;未收款&lt;br&gt;收款中&lt;br&gt;已收款&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-670" y="40" width="190" height="170" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-4" value="&lt;h1&gt;汇款记录状态&lt;br&gt;&lt;/h1&gt;&lt;p&gt;未提交&lt;br&gt;处理中&lt;br&gt;删除&lt;br&gt;撤销&lt;br&gt;未到账(驳回)&lt;br&gt;部分认账（？）&lt;br&gt;已到账&lt;br&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-670" y="190" width="200" height="170" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-5" target="b7ro-gV5mYTYyai0SoZE-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-10" value="1&amp;lt;-1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-9">
          <mxGeometry x="-0.5556" y="3" relative="1" as="geometry">
            <mxPoint x="-16" y="17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-5" value="拍卖订单" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="640" y="175" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-7" target="b7ro-gV5mYTYyai0SoZE-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-7" value="保证金充值" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="640" y="245" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-11" value="1&amp;lt;-1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="1">
          <mxGeometry x="610" y="225" as="geometry">
            <mxPoint x="-10" y="35" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-12" value="- 初始化订单&lt;br&gt;&lt;div&gt;- 更新应收金额&lt;/div&gt;&lt;div&gt;- 订单认账成功回调&lt;/div&gt;&lt;div&gt;- 调用中台同步订单信息&lt;/div&gt;&lt;div&gt;- 管理订单状态&lt;/div&gt;&lt;div&gt;- 查询多个订单的认账状态&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="370" y="-50" width="300" height="120" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-13" target="o6qvqLgRWWO_v4bCrPXF-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-13" value="业务订单 Service" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="460" y="140" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.613;entryY=0.025;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-16" target="o6qvqLgRWWO_v4bCrPXF-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-16" value="汇款 Service" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="70" y="510" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-18" value="&lt;div&gt;- 上传汇款凭证&lt;/div&gt;&lt;div&gt;- 保存汇款记录&lt;br&gt;&lt;/div&gt;&lt;div&gt;- 获取中台汇款信息&lt;/div&gt;&lt;div&gt;- 本地汇款信息、中台汇款信息 对比、同步&lt;/div&gt;&lt;div&gt;- 获取中台认账信息&lt;/div&gt;&lt;div&gt;- 获取中台退款数据&lt;/div&gt;&lt;div&gt;- 计算 已认账金额&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;- 计算 可用认账金额&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;- 校验 汇款金额、认账金额、退款金额（应退、已退）&lt;/div&gt;&lt;div&gt;- 管理认账记录状态、退款金额&lt;/div&gt;&lt;div&gt;- 查看退款凭证&lt;br&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="-260" y="630" width="300" height="190" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-173" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-22" target="o6qvqLgRWWO_v4bCrPXF-159">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-174" value="1 -&amp;gt; n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-173">
          <mxGeometry x="-0.009" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-22" value="中台退款记录" style="whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;rounded=0;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="610" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-28" target="o6qvqLgRWWO_v4bCrPXF-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-28" value="进入OMS" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-540" y="1031.25" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-38" target="o6qvqLgRWWO_v4bCrPXF-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-38" value="列表请求" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-210" y="990" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-39">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-40" y="1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-39" value="列表数据" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-120" y="1000" width="50" height="40" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-45" target="o6qvqLgRWWO_v4bCrPXF-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-45" value="请求&lt;br&gt;yxpfinance-scf" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-40" y="1000" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-48" target="o6qvqLgRWWO_v4bCrPXF-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-48" value="&lt;div&gt;- 每个订单当&lt;br&gt;前绑定网银批次&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=south;" vertex="1" parent="1">
          <mxGeometry x="-45" y="1060" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-50" target="o6qvqLgRWWO_v4bCrPXF-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-50" value="- 已付款" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=south;" vertex="1" parent="1">
          <mxGeometry x="-127.5" y="1060" width="65" height="40" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-52" value="返回" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="100" y="990" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-55" target="o6qvqLgRWWO_v4bCrPXF-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-59" value="YES" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-58">
          <mxGeometry x="-0.3143" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-69" value="NO" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-55" target="o6qvqLgRWWO_v4bCrPXF-68">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-55" value="未收款 &amp;amp; 未绑定批次" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-75" y="1270" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-57" target="o6qvqLgRWWO_v4bCrPXF-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-57" value="获取批次信息接口&lt;br&gt;传订单列表\批次号&lt;br&gt;初始化 &lt;b&gt;&lt;font color=&quot;#ff3333&quot;&gt;认账批次&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="90" y="1370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-60" target="o6qvqLgRWWO_v4bCrPXF-81">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-60" target="o6qvqLgRWWO_v4bCrPXF-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-60" target="o6qvqLgRWWO_v4bCrPXF-85">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-60" target="o6qvqLgRWWO_v4bCrPXF-88">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-60" value="根据 认账批次 信息&lt;br&gt;初始化页面" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="290" y="1370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-62" target="o6qvqLgRWWO_v4bCrPXF-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-70" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-62" target="o6qvqLgRWWO_v4bCrPXF-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-62" value="&lt;div&gt;- 无批次号，初始化批次号&lt;br&gt;&lt;/div&gt;&lt;div&gt;- 有批次号，根据批次号从数据库 初始化 认账批次 对象&lt;/div&gt;&lt;div&gt;- 更新业务订单信息&lt;/div&gt;&lt;div&gt;- 不保存&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=south;rotation=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="1250" width="350" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-68" target="o6qvqLgRWWO_v4bCrPXF-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-77" value="YES" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-71">
          <mxGeometry x="-0.3744" y="-5" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-68" target="o6qvqLgRWWO_v4bCrPXF-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-79" value="NO" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-78">
          <mxGeometry x="-0.1407" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-68" value="未收款 &amp;amp; 绑定相同批次" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-75" y="1450" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-74" value="弹框提示" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-330" y="1470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-80" value="管理汇款记录" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=process;whiteSpace=wrap;rounded=1;size=0.14;arcSize=6;" vertex="1" parent="1">
          <mxGeometry x="580" y="1260" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-81" value="管理业务订单" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=process;whiteSpace=wrap;rounded=1;size=0.14;arcSize=6;" vertex="1" parent="1">
          <mxGeometry x="580" y="1370" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-85" value="暂存" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=process;whiteSpace=wrap;rounded=1;size=0.14;arcSize=6;" vertex="1" parent="1">
          <mxGeometry x="580" y="1480" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-88" value="提交" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=process;whiteSpace=wrap;rounded=1;size=0.14;arcSize=6;" vertex="1" parent="1">
          <mxGeometry x="580" y="1580" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-93" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-91" target="o6qvqLgRWWO_v4bCrPXF-92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-91" value="异常订单处理" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-550" y="1660" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-95" value="YES" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-92" target="o6qvqLgRWWO_v4bCrPXF-103">
          <mxGeometry x="-0.01" relative="1" as="geometry">
            <mxPoint x="-260" y="1690" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-92" value="已收款" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-400" y="1650" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-97" target="o6qvqLgRWWO_v4bCrPXF-92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-97" value="&lt;div&gt;- 此时业务订单是已收款状态&lt;/div&gt;&lt;div&gt;- 此时批次一定是已经提交过&lt;/div&gt;&lt;div&gt;- 此时 汇款金额 = 总退款金额(历史已退 + 当前应退) + 订单应付汇总&lt;/div&gt;&lt;div&gt;- 此时一定有一笔和当前订单金额相等的 &lt;b&gt;已认账金额N&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=south;" vertex="1" parent="1">
          <mxGeometry x="-770" y="1790" width="410" height="105" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-109" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-103" target="o6qvqLgRWWO_v4bCrPXF-108">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-103" value="手动调用中台&lt;br&gt; 重置 接口" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-260" y="1660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-105" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.383;entryY=0.967;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-104" target="o6qvqLgRWWO_v4bCrPXF-103">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-104" value="&lt;div&gt;- 中台会将这笔业务订单对应中台支付订单标记为 撤销&lt;/div&gt;&lt;div&gt;- 中台删除 中台支付订单 和汇款记录绑定关系&lt;/div&gt;&lt;div&gt;- 中台将 这笔支付订单对应的金额 释放，变成 可认账金额&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=south;" vertex="1" parent="1">
          <mxGeometry x="-330" y="1790" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-160" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-106" target="o6qvqLgRWWO_v4bCrPXF-159">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="520" y="470" />
              <mxPoint x="860" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-161" value="1 -&amp;gt; n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-160">
          <mxGeometry x="-0.3089" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-106" value="中台支付订单" style="whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;rounded=0;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="460" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-108" target="o6qvqLgRWWO_v4bCrPXF-112">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-108" value="手动&lt;br&gt;业务订单抓单" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="1660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-111" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-110" target="o6qvqLgRWWO_v4bCrPXF-108">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-110" value="&lt;div&gt;- 清空当前订单所有流程&lt;/div&gt;&lt;div&gt;- 当前订单变成 未支付 状态&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=south;" vertex="1" parent="1">
          <mxGeometry x="40" y="1800" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-112" target="o6qvqLgRWWO_v4bCrPXF-114">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-112" value="手动&lt;br&gt;删除业务订单和批次绑定关系" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="240" y="1660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-114" target="o6qvqLgRWWO_v4bCrPXF-117">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-114" value="根据 认账批次 信息&lt;br&gt;初始化页面" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="390" y="1780" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-116" target="o6qvqLgRWWO_v4bCrPXF-114">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-116" value="&lt;div&gt;- 此时批次信息内刚才订单被清空&lt;/div&gt;&lt;div&gt;- 此时汇款记录数据保持不变&lt;/div&gt;&lt;div&gt;- 之前已认证金额N 变成 可认账金额N&lt;/div&gt;&lt;div&gt;- 此时 汇款金额 = 总退款金额 + 订单应付 + 可认账金额N&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;" vertex="1" parent="1">
          <mxGeometry x="590" y="1760" width="330" height="100" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-121" value="YES" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-117" target="o6qvqLgRWWO_v4bCrPXF-120">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="450" y="1990" />
              <mxPoint x="450" y="1990" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-138" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-117" target="o6qvqLgRWWO_v4bCrPXF-131">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="610" y="2300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="681" y="1930" />
              <mxPoint x="681" y="2300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-148" value="NO" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-138">
          <mxGeometry x="-0.0592" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-117" value="是否再添加订单" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="400" y="1880" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-123" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-120" target="o6qvqLgRWWO_v4bCrPXF-122">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-120" value="添加订单" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="390" y="2030" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-125" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-122" target="o6qvqLgRWWO_v4bCrPXF-127">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="75" y="2060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-128" value="YES" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-125">
          <mxGeometry x="-0.2667" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-130" value="NO" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-122" target="o6qvqLgRWWO_v4bCrPXF-131">
          <mxGeometry x="-0.7922" relative="1" as="geometry">
            <mxPoint x="230" y="2190" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-122" value="新单金额&lt;br&gt;&amp;gt;&lt;br&gt;旧单金额" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="160" y="2020" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-147" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-127" target="o6qvqLgRWWO_v4bCrPXF-131">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="110" y="2280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-99" y="2060" />
              <mxPoint x="-99" y="2220" />
              <mxPoint x="450" y="2220" />
              <mxPoint x="450" y="2300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-127" value="管理汇款记录" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=process;whiteSpace=wrap;rounded=1;size=0.14;arcSize=6;" vertex="1" parent="1">
          <mxGeometry x="-30" y="2030" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-150" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-131" target="o6qvqLgRWWO_v4bCrPXF-149">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-157" value="NO" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-150">
          <mxGeometry x="-0.1556" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-156" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-131" target="o6qvqLgRWWO_v4bCrPXF-154">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-158" value="YES" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-156">
          <mxGeometry x="-0.3812" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-131" value="汇款金额 = 总退款金额 + 订单应付 " style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="310" y="2260" width="280" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-155" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-149" target="o6qvqLgRWWO_v4bCrPXF-154">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-149" value="输入 当前应退 金额" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="390" y="2430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-154" value="提交" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=process;whiteSpace=wrap;rounded=1;size=0.14;arcSize=6;" vertex="1" parent="1">
          <mxGeometry x="70" y="2430" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-159" value="中台交互记录" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="810" y="600" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-164" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.007;entryY=0.586;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-162" target="b7ro-gV5mYTYyai0SoZE-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-166" value="1 -&amp;gt; n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-164">
          <mxGeometry x="0.4669" y="-1" relative="1" as="geometry">
            <mxPoint x="-14" y="14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-165" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.001;entryY=0.676;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-162" target="o6qvqLgRWWO_v4bCrPXF-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-167" value="1 -&amp;gt; n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-165">
          <mxGeometry x="-0.0917" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-162" value="中台汇款记录" style="whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;rounded=0;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="430" y="570" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-179" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-177" target="o6qvqLgRWWO_v4bCrPXF-178">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-177" value="提交汇款记录" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-580" y="2700" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-183" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-178" target="o6qvqLgRWWO_v4bCrPXF-182">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-178" value="业务提交接口" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-410" y="2700" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-181" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-180" target="o6qvqLgRWWO_v4bCrPXF-178">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-180" value="&lt;div&gt;- 判断 批次、订单关系&lt;/div&gt;&lt;div&gt;- 判断订单支付状态&lt;/div&gt;&lt;div&gt;- 获取订单应付金额&lt;/div&gt;&lt;div&gt;- 金额校验&lt;br&gt;&lt;/div&gt;&lt;div&gt;- 冻结代金券&lt;/div&gt;&lt;div&gt;- 请求 YxpFinance 项目网银认账接口&lt;/div&gt;&lt;div&gt;- 记录操作日志&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="-463.75" y="2520" width="227.5" height="130" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-193" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-182" target="o6qvqLgRWWO_v4bCrPXF-192">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-182" value="获取历史 &lt;b&gt;&lt;font color=&quot;#ff3333&quot;&gt;认账批次 &lt;br&gt;&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-236.25" y="2700" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-191" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-186" target="o6qvqLgRWWO_v4bCrPXF-190">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-186" value="删除订单" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="380" y="2980" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-190" value="是否已提交" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="380" y="3120" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-197" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-192" target="o6qvqLgRWWO_v4bCrPXF-196">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-192" value="对比得到具体操作" style="whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-55" y="2700" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-199" value="NO" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-196" target="o6qvqLgRWWO_v4bCrPXF-198">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-203" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-196" target="o6qvqLgRWWO_v4bCrPXF-202">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-209" value="YES" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="o6qvqLgRWWO_v4bCrPXF-203">
          <mxGeometry x="-0.5515" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-211" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.099;entryY=0.523;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-196" target="o6qvqLgRWWO_v4bCrPXF-210">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-196" value="操作校验" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="150" y="2690" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-198" value="失败" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="115" y="2545" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-204" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-202" target="o6qvqLgRWWO_v4bCrPXF-186">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-208" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="o6qvqLgRWWO_v4bCrPXF-202" target="o6qvqLgRWWO_v4bCrPXF-212">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="190" y="2980" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-202" value="订单管理" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.flowchart.summing_function;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="155" y="2830" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-210" value="汇款记录管理" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.flowchart.summing_function;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="315" y="2695" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-212" value="更新订单" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="150" y="2970" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o6qvqLgRWWO_v4bCrPXF-213" value="新增订单" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry y="2970" width="80" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
